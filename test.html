<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç —Å–∏—Å—Ç–µ–º—ã –∫–æ–Ω—Ç—Ä–æ–ª—è</title>

    <!-- –°–ö–†–ò–ü–¢ ‚Ññ1: –ï–î–ò–ù–´–ô –ò –ù–ï–ó–ê–í–ò–°–ò–ú–´–ô –ë–õ–û–ö–ò–†–û–í–©–ò–ö DEVTOOLS -->
    <script>
        (function () {
            let isDevToolsWarningShown = false;
            const triggerWarning = () => { if (isDevToolsWarningShown) return; if (typeof showNotification === 'function') { showNotification('–î–æ—Å—Ç—É–ø –æ–≥—Ä–∞–Ω–∏—á–µ–Ω', '–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã.', 'danger', 5000); } else { alert('–î–æ—Å—Ç—É–ø –æ–≥—Ä–∞–Ω–∏—á–µ–Ω: –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã.'); } isDevToolsWarningShown = true; setTimeout(() => { isDevToolsWarningShown = false; }, 6000); };
            document.addEventListener('keydown', function (event) { if (event.key === 'F12' || (event.ctrlKey && event.shiftKey) || (event.metaKey && event.altKey)) { event.preventDefault(); triggerWarning(); } }, true);
            document.addEventListener('contextmenu', function (event) { event.preventDefault(); triggerWarning(); }, true);
            const startDebuggerCheck = () => { const mainDetector = () => { const threshold = 160; const start = performance.now(); debugger; const end = performance.now(); if (end - start > threshold) { triggerWarning(); } }; setInterval(mainDetector, 1000); };
            if (document.readyState === 'complete' || document.readyState === 'interactive') { startDebuggerCheck(); } else { document.addEventListener('DOMContentLoaded', startDebuggerCheck); }
        })();
    </script>

    <style>
        /* –í–ê–® –û–†–ò–ì–ò–ù–ê–õ–¨–ù–´–ô –î–ò–ó–ê–ô–ù + –°–¢–ò–õ–ò –î–õ–Ø –ë–õ–û–ö–ò–†–û–í–©–ò–ö–ê */
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            text-align: center;
        }

        .status {
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
            font-size: 18px;
            font-weight: bold;
        }

        .safe {
            background-color: #d4edda;
            color: #155724;
            border: 2px solid #c3e6cb;
        }

        .warning {
            background-color: #fff3cd;
            color: #856404;
            border: 2px solid #ffeaa7;
        }

        .banned {
            background-color: #f8d7da;
            color: #721c24;
            border: 2px solid #f5c6cb;
        }

        button {
            padding: 10px 20px;
            font-size: 16px;
            margin: 10px;
            cursor: pointer;
            border: none;
            border-radius: 5px;
            background: #007bff;
            color: white;
        }

        .log {
            margin-top: 20px;
            padding: 15px;
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            text-align: left;
            max-height: 200px;
            overflow-y: auto;
            font-family: monospace;
        }

        .notification-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 9999;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .toast {
            min-width: 300px;
            background-color: #333;
            color: #fff;
            padding: 15px 20px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            position: relative;
            overflow: hidden;
            transform: translateX(120%);
            transition: transform 0.4s ease-in-out;
        }

        .toast.show {
            transform: translateX(0);
        }

        .toast h4 {
            margin: 0 0 5px 0;
            font-size: 16px;
        }

        .toast p {
            margin: 0;
            font-size: 14px;
            opacity: 0.9;
        }

        .toast-progress {
            position: absolute;
            bottom: 0;
            left: 0;
            height: 4px;
            width: 100%;
        }

        .toast--info .toast-progress {
            background-color: #007bff;
        }

        .toast--warning .toast-progress {
            background-color: #ffc107;
        }

        .toast--danger .toast-progress {
            background-color: #dc3545;
        }

        @keyframes progress-countdown {
            from {
                width: 100%;
            }

            to {
                width: 0%;
            }
        }

        /* –ù–û–í–´–ï –°–¢–ò–õ–ò: –ë–ª–æ–∫–∏—Ä–æ–≤—â–∏–∫ ("–ì–µ–π—Ç–∫–∏–ø–µ—Ä") –∏ —Å–∫—Ä—ã—Ç–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ */
        .gatekeeper {
            display: flex;
            /* –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–∏–¥–µ–Ω */
            justify-content: center;
            align-items: center;
            text-align: center;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #f0f0f0;
            z-index: 10000;
        }

        .gatekeeper-content {
            padding: 30px;
            border-radius: 12px;
            background-color: white;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .gatekeeper-content h1 {
            margin-top: 0;
        }

        .gatekeeper-content p {
            color: #333;
        }

        /* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–∫—Ä—ã—Ç */
        .main-content {
            display: none;
        }
    </style>
</head>

<body>
    <!-- –ù–û–í–´–ô HTML: –ë–ª–æ–∫–∏—Ä–æ–≤—â–∏–∫-–≥–µ–π—Ç–∫–∏–ø–µ—Ä -->
    <div id="gatekeeper" class="gatekeeper">
        <div class="gatekeeper-content">
            <p>–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è...</p>
        </div>
    </div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø–æ–∫–∞–∑–∞–Ω —Ç–æ–ª—å–∫–æ –≤ Chrome -->
    <div id="main-content" class="main-content">
        <h1>üß™ –¢–µ—Å—Ç —Å–∏—Å—Ç–µ–º—ã –∫–æ–Ω—Ç—Ä–æ–ª—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏</h1>
        <div id="status" class="status safe">‚úÖ –°—Ç–∞—Ç—É—Å: –ê–∫—Ç–∏–≤–µ–Ω (–±–µ–∑ –Ω–∞—Ä—É—à–µ–Ω–∏–π)</div>
        <div>
            <button onclick="startTest()">–ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç</button>
            <button onclick="resetTest()">–°–±—Ä–æ—Å–∏—Ç—å —Ç–µ—Å—Ç</button>
            <button onclick="simulateViolation()">–°–∏–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—Ä—É—à–µ–Ω–∏–µ</button>
        </div>
        <div class="log" id="log"></div>
        <div id="notification-container" class="notification-container"></div>
    </div>

    <script>
        // --- –û–°–ù–û–í–ù–ê–Ø –õ–û–ì–ò–ö–ê –°–¢–†–ê–ù–ò–¶–´ ---
        const notificationContainer = document.getElementById('notification-container');
        function showNotification(title, message, type = 'info', duration = 5000) { const toast = document.createElement('div'); toast.className = `toast toast--${type}`; toast.innerHTML = `<h4>${title}</h4><p>${message}</p><div class="toast-progress"></div>`; const progressBar = toast.querySelector('.toast-progress'); notificationContainer.appendChild(toast); progressBar.style.animation = `progress-countdown ${duration / 1000}s linear forwards`; setTimeout(() => toast.classList.add('show'), 10); setTimeout(() => { toast.classList.remove('show'); toast.addEventListener('transitionend', () => toast.remove()); }, duration); }

        // --- –õ–æ–≥–∏–∫–∞ –≤–∞—à–µ–≥–æ —Ç–µ—Å—Ç–∞ (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π) ---
        let violations = 0; let testStarted = false; let warningTimeout; const statusEl = document.getElementById('status'); const logEl = document.getElementById('log');
        function logMessage(message) { if (!logEl) return; const t = new Date().toLocaleTimeString(); logEl.innerHTML += `[${t}] ${message}<br>`, logEl.scrollTop = logEl.scrollHeight } function startTest() { violations = 0, testStarted = !0, statusEl.className = "status safe", statusEl.innerHTML = "‚úÖ –°—Ç–∞—Ç—É—Å: –ê–∫—Ç–∏–≤–µ–Ω (–±–µ–∑ –Ω–∞—Ä—É—à–µ–Ω–∏–π)", logEl.innerHTML = "", logMessage("–¢–µ—Å—Ç –Ω–∞—á–∞—Ç...") } function resetTest() { testStarted = !1, violations = 0, clearTimeout(warningTimeout), statusEl.className = "status safe", statusEl.innerHTML = "‚úÖ –°—Ç–∞—Ç—É—Å: –ù–µ–∞–∫—Ç–∏–≤–µ–Ω (—Ç–µ—Å—Ç —Å–±—Ä–æ—à–µ–Ω)", logMessage("=== –¢–ï–°–¢ –°–ë–†–û–®–ï–ù ===") } function simulateViolation() { testStarted ? handleViolation("–°–∏–º—É–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –Ω–∞—Ä—É—à–µ–Ω–∏–µ") : alert("–°–Ω–∞—á–∞–ª–∞ –Ω–∞—á–Ω–∏—Ç–µ —Ç–µ—Å—Ç!") } function handleViolation(reason) { if (!testStarted) return; violations++, logMessage(`‚ö†Ô∏è –ù–∞—Ä—É—à–µ–Ω–∏–µ #${violations}: ${reason}`), 1 === violations ? (statusEl.className = "status warning", statusEl.innerHTML = `‚ö†Ô∏è –ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï: ${reason}!`, logMessage("–°–ª–µ–¥—É—é—â–µ–µ –Ω–∞—Ä—É—à–µ–Ω–∏–µ –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –±–∞–Ω—É!")) : violations >= 2 && (statusEl.className = "status banned", statusEl.innerHTML = "üö´ –ó–ê–ë–õ–û–ö–ò–†–û–í–ê–ù–û: –¢–µ—Å—Ç –ø—Ä–æ–≤–∞–ª–µ–Ω!", logMessage("üö´ –¢–ï–°–¢ –ó–ê–í–ï–†–®–ï–ù: –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –Ω–∞—Ä—É—à–µ–Ω–∏—è"), testStarted = !1) }
        window.addEventListener('blur', function () { if (!testStarted) return; handleViolation('–ü–æ—Ç–µ—Ä—è —Ñ–æ–∫—É—Å–∞ –æ–∫–Ω–∞'); }); window.addEventListener('visibilitychange', function () { if (!testStarted) return; if (document.hidden) { handleViolation('–°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ–∞–∫—Ç–∏–≤–Ω–∞'); } });
        logMessage('–°–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç—Ä–æ–ª—è –≥–æ—Ç–æ–≤–∞ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é');

        // --- –ù–û–í–ê–Ø –û–ë–™–ï–î–ò–ù–ï–ù–ù–ê–Ø –õ–û–ì–ò–ö–ê –ì–ï–ô–¢–ö–ò–ü–ï–†–ê ---
        (function () {
            // –§—É–Ω–∫—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ Chrome
            function isChromeBrowser() {
                const userAgent = navigator.userAgent;
                return userAgent.includes('Chrome') && !userAgent.includes('Edg') && !userAgent.includes('OPR');
            }

            // –§—É–Ω–∫—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ —Ä–µ–∂–∏–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (—Ç–æ–ª—å–∫–æ –¥–ª—è Chrome)
            function isAppModeChrome() {
                const THRESHOLD = 60;
                const heightDifference = window.outerHeight - window.innerHeight;
                return heightDifference > 0 && heightDifference < THRESHOLD;
            }

            const gatekeeper = document.getElementById('gatekeeper');
            const gatekeeperContent = gatekeeper.querySelector('.gatekeeper-content');
            const mainContent = document.getElementById('main-content');

            const isChrome = isChromeBrowser();
            const isAppMode = isAppModeChrome();

            if (isChrome && !isAppMode) {
                // –ò–î–ï–ê–õ–¨–ù–´–ô –°–õ–£–ß–ê–ô: –ë—Ä–∞—É–∑–µ—Ä - Chrome –ò —ç—Ç–æ –æ–±—ã—á–Ω–∞—è –≤–∫–ª–∞–¥–∫–∞
                gatekeeper.style.display = 'none';
                mainContent.style.display = 'block';
            } else {
                // –ü–†–û–ë–õ–ï–ú–ê: –õ–∏–±–æ –±—Ä–∞—É–∑–µ—Ä –Ω–µ —Ç–æ—Ç, –ª–∏–±–æ —ç—Ç–æ —Ä–µ–∂–∏–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
                if (!isChrome) {
                    // –ü—Ä–æ–±–ª–µ–º–∞ ‚Ññ1: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä
                    gatekeeperContent.innerHTML = `
                        <h1>–¢—Ä–µ–±—É–µ—Ç—Å—è Google Chrome</h1>
                        <p>–î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã –∫–æ–Ω—Ç—Ä–æ–ª—è, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä Google Chrome.</p>
                    `;
                } else {
                    // –ü—Ä–æ–±–ª–µ–º–∞ ‚Ññ2: –†–µ–∂–∏–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ Chrome
                    gatekeeperContent.innerHTML = `
                        <h1>–¢—Ä–µ–±—É–µ—Ç—Å—è –æ–±—ã—á–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä</h1>
                        <p>–≠—Ç—É —Å—Ç—Ä–∞–Ω–∏—Ü—É –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ—Ç–∫—Ä—ã—Ç—å –≤ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π –≤–∫–ª–∞–¥–∫–µ, –∞ –Ω–µ –∫–∞–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.</p>
                    `;
                }
            }
        })();
    </script>
</body>

</html>